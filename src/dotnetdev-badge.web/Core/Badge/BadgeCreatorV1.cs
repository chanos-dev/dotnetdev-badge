using DotNetDevBadgeWeb.Common;
using DotNetDevBadgeWeb.Interfaces;
using DotNetDevBadgeWeb.Model;

namespace DotNetDevBadgeWeb.Core.Badge
{
    internal class BadgeCreatorV1 : IBadgeV1
    {
        private const float MAX_WIDTH = 193f;        
        private const float LOGO_X = 0;
        private const float TEXT_X = 75.5f;
        private const float TEXT_MAX_WIDTH = 164.5f - TEXT_X - 10;

        private readonly IProvider _forumProvider;
        private readonly IMeasureTextV1 _measureTextV1;

        public BadgeCreatorV1(IProvider forumProvider, IMeasureTextV1 measureTextV1)
        {
            _forumProvider = forumProvider;
            _measureTextV1 = measureTextV1;
        }

        public async Task<string> GetSmallBadgeAsync(string id, ETheme theme, CancellationToken token)
        {
            (UserSummary summary, User user) = await _forumProvider.GetUserInfoAsync(id, token);

            ColorSet colorSet = Palette.GetColorSet(theme);
            string trustColor = Palette.GetTrustColor(user.Level);

            string svg = $@"
<svg width=""110"" height=""20"" viewBox=""0 0 110 20"" fill=""none"" xmlns=""http://www.w3.org/2000/svg""
    xmlns:xlink=""http://www.w3.org/1999/xlink"">
    <style>  
        .text {{
            font: 800 12px 'Segoe UI', Ubuntu, Sans-Serif;
            fill: #{colorSet.FontColor};
        }}  
    </style>
    <path d=""M10 0.5H100C105.247 0.5 109.5 4.75329 109.5 10C109.5 15.2467 105.247 19.5 100 19.5H10C4.75329 19.5 0.5 15.2467 0.5 10C0.5 4.75329 4.7533 0.5 10 0.5Z"" fill=""#{colorSet.BackgroundColor}"" stroke=""#4D1877"" />

    <g id=""human-group"">
        <path d=""M10 0.5H27.5V19.5H10C4.7533 19.5 0.5 15.2467 0.5 10C0.5 4.75329 4.7533 0.5 10 0.5Z"" fill=""#6E20A0"" stroke=""#{trustColor}"" />
        <path d=""M15 10C17.2094 10 19 8.4332 19 6.5C19 4.5668 17.2094 3 15 3C12.7906 3 11 4.5668 11 6.5C11 8.4332 12.7906 10 15 10ZM17.8 10.875H17.2781C16.5844 11.1539 15.8125 11.3125 15 11.3125C14.1875 11.3125 13.4188 11.1539 12.7219 10.875H12.2C9.88125 10.875 8 12.5211 8 14.55V15.6875C8 16.4121 8.67188 17 9.5 17H20.5C21.3281 17 22 16.4121 22 15.6875V14.55C22 12.5211 20.1188 10.875 17.8 10.875Z"" fill=""#{trustColor}"" /> 
    </g>

    <g id=""heart-group"">
        <path d=""M37.0711 4.79317C37.5874 4.7052 38.1168 4.73422 38.6204 4.87808C39.124 5.02195 39.5888 5.27699 39.9807 5.62442L40.0023 5.64367L40.0222 5.62617C40.3962 5.29792 40.8359 5.05321 41.312 4.90836C41.7881 4.76352 42.2896 4.72186 42.7831 4.78617L42.9266 4.80717C43.5486 4.91456 44.13 5.18817 44.6092 5.59902C45.0884 6.00987 45.4476 6.54267 45.6487 7.14099C45.8498 7.73931 45.8853 8.38088 45.7516 8.99776C45.6178 9.61464 45.3198 10.1839 44.8889 10.6452L44.7839 10.7531L44.7559 10.777L40.4101 15.0814C40.3098 15.1807 40.1769 15.2402 40.0361 15.249C39.8953 15.2578 39.756 15.2153 39.6442 15.1292L39.5893 15.0814L35.2184 10.7519C34.7554 10.3014 34.4261 9.73148 34.267 9.10532C34.1079 8.47917 34.1252 7.82119 34.317 7.20427C34.5088 6.58734 34.8676 6.03555 35.3537 5.60999C35.8398 5.18443 36.4342 4.90172 37.0711 4.79317Z"" fill=""#FA6C8D"" />
        <text class=""text"" x=""49"" y=""14.5"" >{summary.LikesReceived}</text>  
    </g> 

    <g id=""logo-group"">
        <path d=""M89.0602 10.8029C89.0391 10.5043 88.9843 10.2035 89.0043 9.90764C89.038 9.41186 89.0972 8.91531 89.1857 8.42627C89.3216 7.67535 89.6038 6.97128 89.9644 6.29886C90.2251 5.81282 90.5282 5.35469 90.893 4.93915C91.0696 4.73812 91.2443 4.5345 91.4342 4.34637C91.9247 3.86047 92.4731 3.448 93.0709 3.09998C93.7459 2.70706 94.4665 2.42241 95.2222 2.23441C95.5832 2.1446 95.957 2.09755 96.3278 2.05733C96.6783 2.01932 97.033 1.99309 97.3849 2.00161C98.0885 2.01865 98.7825 2.11859 99.4608 2.31475C99.9787 2.46451 100.48 2.65645 100.957 2.90504C101.498 3.18635 102.001 3.52233 102.471 3.91153C103.12 4.44867 103.664 5.07505 104.115 5.78049C104.66 6.632 105.042 7.55118 105.225 8.54709C105.271 8.79812 105.301 9.05218 105.331 9.30849C105.139 8.37576 104.71 7.58014 103.983 6.94409C103.267 6.3179 102.432 5.99279 101.49 5.93758C100.897 5.90282 100.32 6.00285 99.7641 6.21891C99.2298 6.42656 98.7612 6.73737 98.3673 7.14492C98.1328 7.3875 97.947 7.67663 97.7378 7.93321C97.9526 6.69727 98.1689 5.47296 98.3866 4.24092C97.9141 4.24092 97.451 4.24092 96.9778 4.24092C96.7866 5.32658 96.5962 6.40755 96.4141 7.44147C96.3533 7.27167 96.282 7.05867 96.2009 6.8494C95.8777 6.01451 95.5524 5.18038 95.2235 4.3477C95.2055 4.30197 95.1482 4.24013 95.1081 4.2393C94.7149 4.23116 94.3215 4.23439 93.9195 4.23439C93.5696 6.20803 93.2211 8.17398 92.8707 10.1505C93.1912 10.1505 93.4997 10.1652 93.8062 10.1462C94.101 10.128 94.3116 9.91999 94.3644 9.62978C94.4664 9.06868 94.5639 8.50675 94.6625 7.94503C94.7249 7.58971 94.7861 7.23416 94.8428 6.90724C94.8738 7.00952 94.9039 7.13766 94.951 7.25932C95.2789 8.1077 95.6102 8.95478 95.9407 9.80218C96.078 10.1541 96.0782 10.1545 96.4609 10.1538C96.7108 10.1534 96.9662 10.1846 97.1921 10.047C97.145 10.3931 97.1055 10.7277 97.0451 11.0586C97.0215 11.1883 96.951 11.3094 96.8917 11.4332C96.6119 11.2903 96.3223 11.2311 96.0197 11.2305C95.4415 11.2294 94.8633 11.23 94.2851 11.2305C94.2435 11.2305 94.2019 11.2347 94.159 11.237C93.9905 12.1763 93.8236 13.1072 93.6435 14.0379C93.305 14.0375 92.9778 14.0597 92.6548 14.0326C91.7495 13.9566 90.9704 13.5813 90.3094 12.9714C89.6999 12.4091 89.3113 11.7123 89.1129 10.9098C89.1036 10.8721 89.0782 10.8384 89.0602 10.8029ZM91.4744 8.99505C91.1632 8.91195 90.8875 8.99563 90.7101 9.22707C90.5423 9.44601 90.5237 9.7481 90.6635 9.98513C90.8122 10.2374 91.1057 10.3659 91.3934 10.3047C91.6815 10.2434 91.9026 10.0088 91.93 9.73556C91.964 9.39646 91.8159 9.14609 91.4744 8.99505Z"" fill=""#6E20A0""/>
		<path d=""M89.0576 10.8148C89.0782 10.8384 89.1036 10.8721 89.1129 10.9098C89.3113 11.7123 89.6999 12.4091 90.3094 12.9714C90.9704 13.5813 91.7495 13.9566 92.6548 14.0326C92.9778 14.0597 93.305 14.0375 93.6437 14.0503C93.544 14.7026 93.4273 15.3419 93.3192 15.9826C93.2729 16.257 93.3888 16.3844 93.6656 16.3849C94.1491 16.3858 94.6327 16.3852 95.1162 16.3852C96.0923 16.385 96.8838 15.8428 97.1579 14.9156C97.3212 14.3631 97.406 13.7864 97.5049 13.217C97.5489 12.9641 97.5686 12.7002 97.5499 12.4449C97.5174 12.002 97.2648 11.6782 96.9018 11.4345C96.951 11.3094 97.0215 11.1883 97.0451 11.0586C97.1055 10.7277 97.145 10.3931 97.1973 10.0391C97.3337 9.92155 97.409 9.79418 97.4309 9.63065C97.4508 9.48225 97.4828 9.33545 97.51 9.18803C97.5863 8.77361 97.6628 8.35923 97.7393 7.94484C97.947 7.67663 98.1328 7.3875 98.3673 7.14492C98.7612 6.73737 99.2298 6.42656 99.7641 6.21891C100.32 6.00285 100.897 5.90282 101.49 5.93758C102.432 5.99279 103.267 6.3179 103.983 6.94409C104.71 7.58014 105.139 8.37575 105.33 9.3208C105.411 9.77185 105.389 10.2128 105.346 10.658C105.3 11.1352 105.211 11.6011 105.085 12.062C104.894 12.763 104.603 13.4216 104.231 14.0455C103.822 14.7328 103.315 15.3428 102.724 15.8822C102.279 16.2885 101.794 16.6416 101.267 16.9388C100.786 17.2104 100.286 17.4361 99.7594 17.6059C99.2576 17.7678 98.748 17.9035 98.2212 17.9399C97.689 17.9767 97.1524 18.0192 96.6215 17.9907C95.6908 17.9407 94.7929 17.7195 93.9359 17.3441C93.1806 17.0131 92.4862 16.5892 91.8608 16.0516C91.1194 15.4143 90.5055 14.6765 90.0257 13.8253C89.6026 13.0749 89.3221 12.2745 89.1454 11.4361C89.1031 11.2355 89.0844 11.0299 89.0576 10.8148ZM99.2941 9.23218C99.0533 9.18139 98.9559 8.9524 99.0537 8.6483C99.0923 8.6483 99.1344 8.6483 99.1765 8.6483C99.6179 8.6483 100.059 8.64822 100.501 8.64838C100.562 8.64841 100.63 8.66199 100.638 8.57053C100.659 8.34117 100.702 8.11122 100.696 7.88259C100.684 7.45809 100.406 7.12832 99.9908 7.0314C99.5208 6.92181 99.09 7.02184 98.7386 7.35381C98.2592 7.80656 98.1132 8.38695 98.1775 9.02104C98.2137 9.37818 98.4056 9.64714 98.756 9.77949C99.3071 9.98767 100.061 9.76744 100.407 9.29265C100.479 9.19368 100.524 9.07523 100.594 8.94069C100.286 8.94069 100.021 8.93861 99.7559 8.94347C99.7246 8.94404 99.6801 8.97579 99.6656 9.00486C99.5934 9.14974 99.4836 9.23077 99.2941 9.23218ZM99.1114 13.6656C98.6585 13.5728 98.2568 13.6731 97.9457 14.0179C97.5632 14.4419 97.4396 14.9517 97.5485 15.5052C97.6151 15.8433 97.8489 16.0399 98.1907 16.1041C98.4595 16.1546 98.7208 16.1226 98.9708 16.0182C99.281 15.8888 99.5124 15.6811 99.6163 15.3322C99.3908 15.3322 99.1784 15.3361 98.9662 15.3303C98.881 15.3279 98.8317 15.3472 98.7913 15.4303C98.7286 15.5591 98.606 15.6051 98.468 15.5805C98.3292 15.5558 98.2802 15.4471 98.2693 15.3211C98.2626 15.2436 98.2681 15.1651 98.2681 15.0777C98.6233 15.0777 98.9546 15.0777 99.2859 15.0777C99.6701 15.0777 99.6701 15.0777 99.7232 14.7014C99.794 14.1996 99.5827 13.8295 99.1114 13.6656ZM101.016 8.5571C100.989 8.71005 100.962 8.86298 100.935 9.01594C100.864 9.41999 101.022 9.71981 101.375 9.79693C101.557 9.83653 101.751 9.82902 101.939 9.8282C102.053 9.82771 102.139 9.75985 102.166 9.64629C102.198 9.51007 102.218 9.371 102.246 9.21915C102.167 9.21915 102.101 9.21941 102.036 9.2191C101.851 9.21822 101.809 9.18222 101.838 9.00218C101.908 8.56641 101.989 8.13239 102.065 7.70066C102.527 7.65429 102.632 7.54028 102.591 7.12667C102.457 7.12667 102.321 7.12667 102.17 7.12667C102.217 6.84869 102.261 6.58402 102.306 6.31388C101.995 6.31388 101.708 6.31388 101.417 6.31388C101.367 6.58745 101.319 6.85445 101.271 7.11737C100.977 7.1447 100.978 7.14491 100.935 7.47205C100.912 7.64648 101.028 7.68554 101.169 7.70419C101.118 7.98657 101.069 8.2598 101.016 8.5571ZM101.323 15.3484C101.605 14.7919 101.887 14.2353 102.178 13.6612C101.925 13.6612 101.702 13.6663 101.48 13.6587C101.388 13.6556 101.349 13.6902 101.314 13.7699C101.187 14.0589 101.053 14.3446 100.921 14.6308C100.901 14.6721 100.873 14.7093 100.849 14.7484C100.84 14.7442 100.83 14.7401 100.821 14.736C100.78 14.3792 100.739 14.0224 100.699 13.6696C100.421 13.6696 100.162 13.6696 99.8935 13.6696C100.023 14.4868 100.15 15.2942 100.279 16.1067C100.432 16.1067 100.569 16.1033 100.706 16.1076C100.869 16.1128 100.974 16.0359 101.044 15.896C101.132 15.719 101.224 15.5436 101.323 15.3484Z"" fill=""#4D1877""/>
		<path d=""M97.7378 7.93321C97.6628 8.35924 97.5863 8.77361 97.51 9.18803C97.4828 9.33545 97.4508 9.48226 97.4309 9.63066C97.409 9.79419 97.3337 9.92155 97.1965 10.0262C96.9662 10.1846 96.7108 10.1534 96.4609 10.1539C96.0782 10.1545 96.078 10.1541 95.9407 9.80219C95.6103 8.95478 95.2789 8.1077 94.951 7.25933C94.9039 7.13766 94.8738 7.00953 94.8428 6.90725C94.7861 7.23417 94.7249 7.58971 94.6625 7.94504C94.5639 8.50675 94.4664 9.06868 94.3644 9.62979C94.3116 9.91999 94.101 10.128 93.8062 10.1462C93.4998 10.1652 93.1912 10.1505 92.8707 10.1505C93.2211 8.17398 93.5696 6.20803 93.9195 4.2344C94.3215 4.2344 94.7149 4.23117 95.1081 4.23931C95.1482 4.24014 95.2055 4.30197 95.2235 4.3477C95.5525 5.18039 95.8777 6.01451 96.201 6.8494C96.282 7.05867 96.3533 7.27167 96.4141 7.44147C96.5962 6.40755 96.7866 5.32658 96.9778 4.24092C97.451 4.24092 97.9141 4.24092 98.3867 4.24092C98.169 5.47296 97.9526 6.69727 97.7378 7.93321Z"" fill=""#FEFEFE""/>
		<path d=""M96.8917 11.4332C97.2648 11.6782 97.5173 12.002 97.5498 12.4449C97.5686 12.7002 97.5488 12.9641 97.5049 13.217C97.4059 13.7864 97.3211 14.3631 97.1578 14.9156C96.8837 15.8428 96.0922 16.385 95.1162 16.3851C94.6326 16.3852 94.1491 16.3858 93.6656 16.3849C93.3887 16.3843 93.2729 16.257 93.3192 15.9826C93.4273 15.3419 93.5439 14.7026 93.6569 14.0504C93.8236 13.1071 93.9905 12.1763 94.1589 11.2369C94.2019 11.2346 94.2435 11.2305 94.2851 11.2305C94.8633 11.23 95.4414 11.2294 96.0196 11.2305C96.3223 11.2311 96.6118 11.2903 96.8917 11.4332ZM94.9552 13.6259C94.8483 14.2309 94.7414 14.836 94.6329 15.4504C94.8008 15.4504 94.9526 15.4437 95.1036 15.4521C95.3122 15.4636 95.4822 15.3854 95.6334 15.2527C95.8171 15.0916 95.9436 14.8871 95.9948 14.6556C96.1056 14.155 96.2025 13.6506 96.2825 13.1441C96.3094 12.9736 96.2679 12.7923 96.2585 12.5949C96.1976 12.3761 96.0818 12.1991 95.838 12.1754C95.6335 12.1555 95.4254 12.1713 95.2096 12.1713C95.1279 12.6553 95.0475 13.1313 94.9552 13.6259Z"" fill=""#FEFEFE""/>
		<path d=""M91.4854 8.99858C91.816 9.14608 91.9641 9.39645 91.9301 9.73554C91.9027 10.0088 91.6815 10.2433 91.3934 10.3046C91.1058 10.3659 90.8123 10.2373 90.6636 9.98512C90.5238 9.74809 90.5424 9.44599 90.7102 9.22706C90.8876 8.99562 91.1633 8.91193 91.4854 8.99858Z"" fill=""#FDFCFE""/>
		<path d=""M99.3064 9.23245C99.4835 9.23076 99.5933 9.14973 99.6656 9.00486C99.6801 8.97579 99.7246 8.94404 99.7559 8.94347C100.021 8.93861 100.286 8.94069 100.594 8.94069C100.523 9.07523 100.479 9.19368 100.407 9.29265C100.061 9.76744 99.3071 9.98767 98.7559 9.77949C98.4056 9.64714 98.2137 9.37818 98.1775 9.02104C98.1132 8.38695 98.2592 7.80655 98.7385 7.3538C99.09 7.02184 99.5208 6.9218 99.9908 7.0314C100.406 7.12832 100.684 7.45809 100.696 7.88259C100.702 8.11122 100.659 8.34117 100.638 8.57053C100.63 8.66199 100.561 8.6484 100.5 8.64838C100.059 8.64822 99.6178 8.6483 99.1765 8.6483C99.1344 8.6483 99.0923 8.6483 99.0537 8.6483C98.9558 8.95239 99.0533 9.18139 99.3064 9.23245ZM99.1448 8.061C99.118 8.12878 99.1525 8.14036 99.2118 8.13937C99.3534 8.13699 99.4951 8.13866 99.6367 8.13865C99.8522 8.13865 99.8522 8.13863 99.8442 7.91913C99.8437 7.90505 99.8448 7.89071 99.8425 7.87694C99.823 7.76185 99.7889 7.64958 99.6643 7.61166C99.5439 7.57505 99.4197 7.59592 99.343 7.70018C99.2667 7.8039 99.2152 7.9256 99.1448 8.061Z"" fill=""#FDFCFD""/>
		<path d=""M99.1229 13.6678C99.5827 13.8295 99.794 14.1996 99.7232 14.7014C99.6701 15.0777 99.6701 15.0777 99.2859 15.0777C98.9546 15.0777 98.6233 15.0777 98.268 15.0777C98.268 15.1651 98.2626 15.2436 98.2693 15.3211C98.2802 15.4471 98.3292 15.5558 98.468 15.5805C98.606 15.6051 98.7285 15.5591 98.7913 15.4303C98.8317 15.3472 98.881 15.3279 98.9662 15.3303C99.1784 15.3361 99.3908 15.3322 99.6163 15.3322C99.5124 15.6811 99.2809 15.8888 98.9708 16.0182C98.7208 16.1226 98.4595 16.1546 98.1907 16.1041C97.8489 16.0399 97.6151 15.8433 97.5485 15.5052C97.4396 14.9517 97.5632 14.4419 97.9457 14.0179C98.2568 13.6731 98.6585 13.5728 99.1229 13.6678ZM98.9668 14.3607C98.9299 14.1191 98.649 14.1042 98.5261 14.2662C98.4496 14.3671 98.4021 14.4899 98.3307 14.6232C98.5655 14.6232 98.7614 14.6232 98.9726 14.6232C98.9726 14.5393 98.9726 14.4611 98.9668 14.3607Z"" fill=""#FDFCFD""/>
		<path d=""M101.018 8.54506C101.069 8.25979 101.118 7.98655 101.169 7.70418C101.028 7.68553 100.912 7.64647 100.935 7.47203C100.978 7.1449 100.977 7.14469 101.271 7.11736C101.319 6.85444 101.367 6.58743 101.417 6.31387C101.708 6.31387 101.995 6.31387 102.306 6.31387C102.261 6.58401 102.217 6.84868 102.17 7.12665C102.321 7.12665 102.457 7.12665 102.591 7.12665C102.632 7.54027 102.527 7.65428 102.065 7.70064C101.989 8.13237 101.908 8.56639 101.838 9.00216C101.809 9.18221 101.851 9.21821 102.035 9.21909C102.101 9.2194 102.167 9.21914 102.246 9.21914C102.218 9.37099 102.198 9.51006 102.165 9.64628C102.139 9.75984 102.053 9.8277 101.939 9.82819C101.751 9.829 101.557 9.83652 101.375 9.79692C101.021 9.71979 100.864 9.41998 100.935 9.01593C100.962 8.86296 100.989 8.71004 101.018 8.54506Z"" fill=""#FDFCFD""/>
		<path d=""M101.319 15.358C101.224 15.5436 101.132 15.719 101.044 15.896C100.974 16.0359 100.869 16.1128 100.706 16.1076C100.569 16.1033 100.432 16.1067 100.279 16.1067C100.15 15.2942 100.023 14.4868 99.8935 13.6696C100.162 13.6696 100.421 13.6696 100.699 13.6696C100.739 14.0224 100.78 14.3792 100.821 14.736C100.83 14.7401 100.84 14.7442 100.849 14.7484C100.873 14.7093 100.901 14.6722 100.921 14.6308C101.053 14.3446 101.187 14.0589 101.314 13.7699C101.349 13.6902 101.388 13.6556 101.48 13.6587C101.702 13.6663 101.925 13.6612 102.178 13.6612C101.887 14.2353 101.605 14.7919 101.319 15.358Z"" fill=""#FDFDFE""/>
		<path d=""M96.2577 12.6159C96.2679 12.7923 96.3094 12.9736 96.2825 13.1442C96.2025 13.6506 96.1056 14.155 95.9948 14.6557C95.9436 14.8871 95.8171 15.0916 95.6335 15.2527C95.4822 15.3854 95.3123 15.4636 95.1037 15.4521C94.9526 15.4437 94.8008 15.4504 94.6329 15.4504C94.7414 14.836 94.8483 14.2309 94.9711 13.6138C95.2062 13.4624 95.4376 13.3386 95.6413 13.1797C95.8603 13.009 96.0533 12.8053 96.2577 12.6159Z"" fill=""#4E1978""/>
		<path d=""M96.2581 12.6054C96.0534 12.8052 95.8603 13.0089 95.6413 13.1797C95.4376 13.3386 95.2063 13.4624 94.9772 13.6045C95.0476 13.1313 95.128 12.6553 95.2096 12.1713C95.4255 12.1713 95.6336 12.1555 95.8381 12.1754C96.0819 12.1991 96.1976 12.3761 96.2581 12.6054Z"" fill=""#6F21A0""/>
		<path d=""M99.1488 8.0502C99.2152 7.9256 99.2668 7.8039 99.343 7.70019C99.4197 7.59593 99.5439 7.57505 99.6643 7.61166C99.7889 7.64958 99.823 7.76185 99.8425 7.87694C99.8448 7.89071 99.8437 7.90505 99.8442 7.91913C99.8522 8.13863 99.8522 8.13865 99.6367 8.13865C99.4951 8.13866 99.3534 8.13699 99.2118 8.13937C99.1525 8.14037 99.1181 8.12878 99.1488 8.0502Z"" fill=""#53207B""/>
		<path d=""M98.9697 14.3717C98.9726 14.4611 98.9726 14.5393 98.9726 14.6233C98.7614 14.6233 98.5655 14.6233 98.3307 14.6233C98.4021 14.4899 98.4496 14.3671 98.5261 14.2662C98.6491 14.1042 98.93 14.1191 98.9697 14.3717Z"" fill=""#521F7B""/>
    </g>
</svg>";

            return svg;
        }

        public async Task<string> GetMediumBadgeAsync(string id, ETheme theme, CancellationToken token)
        {
            (byte[] avatar, UserSummary summary, User user) = await _forumProvider.GetUserInfoWithAvatarAsync(id, token);
            (int gold, int silver, int bronze) = await _forumProvider.GetBadgeCountAsync(id, token);

            ColorSet colorSet = Palette.GetColorSet(theme);
            string trustColor = Palette.GetTrustColor(user.Level);

            float width = MAX_WIDTH;
            float logoX = LOGO_X;

            if (_measureTextV1.IsMediumIdWidthGreater(id, out float idWidth))
            {
                if (idWidth > TEXT_MAX_WIDTH)
                {
                    width += idWidth - TEXT_MAX_WIDTH;
                    logoX += idWidth - TEXT_MAX_WIDTH;
                } 
            }

            string svg = $@"
<svg width=""{width}"" height=""60"" viewBox=""0 0 {width} 60"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"" xmlns:xlink=""http://www.w3.org/1999/xlink"">
    <style>
        .text {{
            font: 800 10px 'Segoe UI', Ubuntu, Sans-Serif;
            fill: #{colorSet.FontColor};
        }}
        .anime {{
            opacity: 0;
			animation: fadein 0.9s ease-in-out forwards;	
		}}
		
		@keyframes fadein {{
            from {{
			    opacity: 0;
		    }}
		    to {{
			    opacity: 1;
		    }}
		}}
        
    </style>
    <path d=""M1 1H{width - 1}V59H1V1Z"" fill=""#{colorSet.BackgroundColor}"" stroke=""#4D1877"" stroke-width=""2"" />

    <g id=""name-group"" class=""anime"" style=""animation-delay: 200ms"">
        <text id=""name-text"" class=""text"" x=""75.5"" y=""16.5"">{id}</text>
		<path id=""name-shape"" d=""M67 13C68.5781 13 69.8571 11.8809 69.8571 10.5C69.8571 9.11914 68.5781 8 67 8C65.4219 8 64.1429 9.11914 64.1429 10.5C64.1429 11.8809 65.4219 13 67 13ZM69 13.625H68.6272C68.1317 13.8242 67.5804 13.9375 67 13.9375C66.4196 13.9375 65.8705 13.8242 65.3728 13.625H65C63.3437 13.625 62 14.8008 62 16.25V17.0625C62 17.5801 62.4799 18 63.0714 18H70.9286C71.5201 18 72 17.5801 72 17.0625V16.25C72 14.8008 70.6563 13.625 69 13.625Z"" fill=""#{trustColor}"" /> 
	</g> 
    
	<g id=""heart-group"" class=""anime"" style=""animation-delay: 400ms"">
		<text id=""heart-text"" class=""text"" x=""75.5"" y=""33.5"">{summary.LikesReceived}</text>
		<path id=""heart-shape"" d=""M64.4895 25.537C64.932 25.4616 65.3858 25.4865 65.8175 25.6098C66.2491 25.7331 66.6476 25.9517 66.9835 26.2495L67.002 26.266L67.019 26.251C67.3396 25.9697 67.7165 25.7599 68.1246 25.6357C68.5327 25.5116 68.9625 25.4759 69.3855 25.531L69.5085 25.549C70.0417 25.6411 70.54 25.8756 70.9507 26.2277C71.3615 26.5799 71.6693 27.0366 71.8417 27.5494C72.0141 28.0623 72.0446 28.6122 71.93 29.1409C71.8153 29.6697 71.5598 30.1576 71.1905 30.553L71.1005 30.6455L71.0765 30.666L67.3515 34.3555C67.2655 34.4406 67.1517 34.4916 67.0309 34.4992C66.9102 34.5067 66.7909 34.4702 66.695 34.3965L66.648 34.3555L62.9015 30.6445C62.5046 30.2583 62.2224 29.7698 62.086 29.2331C61.9496 28.6964 61.9645 28.1325 62.1289 27.6037C62.2933 27.0749 62.6008 26.6019 63.0175 26.2371C63.4341 25.8724 63.9436 25.6301 64.4895 25.537Z"" fill=""#FA6C8D"" />
    </g>
	
	<g id=""badge-group"" class=""anime"" style=""animation-delay: 600ms"">
		<text id=""gold-text"" class=""text"" x=""75.5"" y=""51.5"">{gold}</text>
		<path id=""gold-shape"" d=""M70.9575 47.9984L71.8556 47.1194C72.1234 46.866 71.9985 46.4156 71.6473 46.3316L70.4237 46.0193L70.7687 44.808C70.8661 44.4596 70.5376 44.131 70.1893 44.2285L68.9785 44.5736L68.6663 43.3495C68.5837 43.0039 68.1282 42.8774 67.8787 43.1412L67 44.0463L66.1213 43.1412C65.8746 42.8804 65.4173 42.9999 65.3337 43.3496L65.0215 44.5736L63.8107 44.2285C63.4623 44.131 63.1339 44.4597 63.2314 44.8081L63.5763 46.0193L62.3527 46.3316C62.0013 46.4156 61.8768 46.8661 62.1444 47.1194L63.0425 47.9984L62.1444 48.8774C61.8766 49.1309 62.0015 49.5813 62.3527 49.6653L63.5763 49.9776L63.2313 51.1888C63.1339 51.5372 63.4624 51.8658 63.8107 51.7683L65.0215 51.4233L65.3337 52.6473C65.4204 53.0101 65.8746 53.1164 66.1213 52.8557L67 51.9572L67.8787 52.8557C68.1228 53.1191 68.5816 53.0019 68.6663 52.6473L68.9785 51.4233L70.1893 51.7683C70.5377 51.8659 70.8661 51.5371 70.7686 51.1888L70.4237 49.9776L71.6473 49.6653C71.9986 49.5813 72.1232 49.1308 71.8556 48.8774L70.9575 47.9984Z"" fill=""#E7C300"" />
			
		<text id=""silver-text"" class=""text"" x=""105.5"" y=""51.5"">{silver}</text>
		<path id=""silver-shape"" d=""M101.957 47.9984L102.856 47.1194C103.123 46.866 102.999 46.4156 102.647 46.3316L101.424 46.0193L101.769 44.808C101.866 44.4596 101.538 44.131 101.189 44.2285L99.9785 44.5736L99.6663 43.3495C99.5837 43.0039 99.1282 42.8774 98.8787 43.1412L98 44.0463L97.1213 43.1412C96.8746 42.8804 96.4173 42.9999 96.3337 43.3496L96.0215 44.5736L94.8107 44.2285C94.4623 44.131 94.1339 44.4597 94.2314 44.8081L94.5763 46.0193L93.3527 46.3316C93.0013 46.4156 92.8768 46.8661 93.1444 47.1194L94.0425 47.9984L93.1444 48.8774C92.8766 49.1309 93.0015 49.5813 93.3527 49.6653L94.5763 49.9776L94.2313 51.1888C94.1339 51.5372 94.4624 51.8658 94.8107 51.7683L96.0215 51.4233L96.3337 52.6473C96.4204 53.0101 96.8746 53.1164 97.1213 52.8557L98 51.9572L98.8787 52.8557C99.1228 53.1191 99.5816 53.0019 99.6663 52.6473L99.9785 51.4233L101.189 51.7683C101.538 51.8659 101.866 51.5371 101.769 51.1888L101.424 49.9776L102.647 49.6653C102.999 49.5813 103.123 49.1308 102.856 48.8774L101.957 47.9984Z"" fill=""#C0C0C0"" />
		
		<text id=""bronze-text"" class=""text"" x=""135.5"" y=""51.5"">{bronze}</text>
		<path id=""bronze-shape"" d=""M131.957 47.9984L132.856 47.1194C133.123 46.866 132.999 46.4156 132.647 46.3316L131.424 46.0193L131.769 44.808C131.866 44.4596 131.538 44.131 131.189 44.2285L129.979 44.5736L129.666 43.3495C129.584 43.0039 129.128 42.8774 128.879 43.1412L128 44.0463L127.121 43.1412C126.875 42.8804 126.417 42.9999 126.334 43.3496L126.022 44.5736L124.811 44.2285C124.462 44.131 124.134 44.4597 124.231 44.8081L124.576 46.0193L123.353 46.3316C123.001 46.4156 122.877 46.8661 123.144 47.1194L124.043 47.9984L123.144 48.8774C122.877 49.1309 123.001 49.5813 123.353 49.6653L124.576 49.9776L124.231 51.1888C124.134 51.5372 124.462 51.8658 124.811 51.7683L126.021 51.4233L126.334 52.6473C126.42 53.0101 126.875 53.1164 127.121 52.8557L128 51.9572L128.879 52.8557C129.123 53.1191 129.582 53.0019 129.666 52.6473L129.978 51.4233L131.189 51.7683C131.538 51.8659 131.866 51.5371 131.769 51.1888L131.424 49.9776L132.647 49.6653C132.999 49.5813 133.123 49.1308 132.856 48.8774L131.957 47.9984Z"" fill=""#CD7F32"" /> 
	</g> 
	
    <use class=""anime"" xlink:href=""#logo-group"" x=""{logoX}"" />

    <rect class=""anime"" x=""7"" y=""6"" width=""48"" height=""48"" rx=""24"" fill=""url(#pattern-profile)"" />
	
    <defs> 
        <g id=""logo-group""> 
			<path d=""M165.081 16.8199C165.052 16.419 164.979 16.015 165.006 15.6178C165.051 14.9521 165.13 14.2854 165.249 13.6287C165.432 12.6205 165.811 11.6751 166.295 10.7722C166.645 10.1196 167.052 9.50443 167.542 8.94648C167.779 8.67655 168.014 8.40314 168.268 8.15054C168.927 7.4981 169.663 6.94427 170.466 6.47697C171.372 5.94939 172.34 5.56719 173.355 5.31474C173.839 5.19416 174.341 5.13098 174.839 5.07698C175.31 5.02595 175.786 4.99072 176.259 5.00216C177.203 5.02504 178.135 5.15923 179.046 5.42262C179.741 5.62372 180.414 5.88144 181.055 6.21522C181.781 6.59295 182.457 7.04408 183.088 7.56667C183.96 8.28789 184.689 9.12896 185.295 10.0762C186.027 11.2195 186.54 12.4537 186.786 13.791C186.848 14.128 186.887 14.4692 186.928 14.8133C186.671 13.5609 186.094 12.4926 185.118 11.6386C184.157 10.7978 183.035 10.3612 181.771 10.2871C180.974 10.2404 180.2 10.3747 179.453 10.6648C178.736 10.9437 178.107 11.361 177.578 11.9082C177.263 12.2339 177.013 12.6222 176.732 12.9667C177.021 11.3072 177.311 9.66324 177.604 8.00895C176.969 8.00895 176.347 8.00895 175.712 8.00895C175.455 9.46669 175.2 10.9181 174.955 12.3064C174.873 12.0784 174.778 11.7924 174.669 11.5114C174.235 10.3904 173.798 9.27039 173.356 8.15232C173.332 8.09092 173.255 8.00789 173.202 8.00677C172.674 7.99585 172.145 8.00018 171.606 8.00018C171.136 10.6502 170.668 13.29 170.197 15.9439C170.628 15.9439 171.042 15.9637 171.453 15.9382C171.849 15.9137 172.132 15.6344 172.203 15.2447C172.34 14.4913 172.471 13.7368 172.603 12.9826C172.687 12.5055 172.769 12.0281 172.845 11.5891C172.887 11.7264 172.927 11.8985 172.991 12.0618C173.431 13.201 173.876 14.3384 174.319 15.4762C174.504 15.9488 174.504 15.9493 175.018 15.9484C175.354 15.9478 175.696 15.9896 176 15.8049C175.937 16.2696 175.883 16.719 175.802 17.1633C175.771 17.3373 175.676 17.5001 175.596 17.6662C175.221 17.4744 174.832 17.3948 174.425 17.3941C173.649 17.3926 172.873 17.3934 172.096 17.394C172.041 17.3941 171.985 17.3996 171.927 17.4027C171.701 18.664 171.477 19.9139 171.235 21.1636C170.78 21.1631 170.341 21.1929 169.907 21.1565C168.692 21.0545 167.646 20.5505 166.758 19.7317C165.94 18.9766 165.418 18.041 165.152 16.9634C165.139 16.9129 165.105 16.8676 165.081 16.8199ZM168.322 14.3924C167.905 14.2809 167.534 14.3932 167.296 14.704C167.071 14.998 167.046 15.4036 167.234 15.7219C167.433 16.0605 167.827 16.2331 168.214 16.1509C168.6 16.0686 168.897 15.7537 168.934 15.3867C168.98 14.9314 168.781 14.5953 168.322 14.3924Z"" fill=""#6E20A0""/>
			<path d=""M165.077 16.8359C165.105 16.8676 165.139 16.9129 165.152 16.9634C165.418 18.041 165.94 18.9766 166.758 19.7317C167.646 20.5505 168.692 21.0545 169.907 21.1565C170.341 21.1929 170.78 21.1631 171.235 21.1803C171.101 22.0562 170.945 22.9145 170.8 23.7748C170.737 24.1433 170.893 24.3143 171.265 24.315C171.914 24.3163 172.563 24.3154 173.212 24.3153C174.523 24.3152 175.586 23.5872 175.954 22.3421C176.173 21.6003 176.287 20.826 176.42 20.0614C176.479 19.7218 176.505 19.3674 176.48 19.0246C176.437 18.4299 176.097 17.9952 175.61 17.6679C175.676 17.5001 175.771 17.3373 175.802 17.1633C175.883 16.719 175.937 16.2696 176.007 15.7943C176.19 15.6365 176.291 15.4655 176.32 15.2459C176.347 15.0466 176.39 14.8495 176.427 14.6516C176.529 14.0951 176.632 13.5387 176.734 12.9823C177.013 12.6222 177.263 12.2339 177.578 11.9082C178.107 11.361 178.736 10.9437 179.453 10.6648C180.2 10.3747 180.974 10.2404 181.771 10.2871C183.035 10.3612 184.157 10.7978 185.118 11.6386C186.094 12.4926 186.671 13.5609 186.926 14.8298C187.036 15.4355 187.006 16.0275 186.948 16.6253C186.887 17.2661 186.767 17.8917 186.598 18.5105C186.342 19.4518 185.95 20.336 185.451 21.1738C184.901 22.0967 184.221 22.9158 183.428 23.64C182.831 24.1856 182.178 24.6596 181.472 25.0588C180.826 25.4234 180.154 25.7264 179.447 25.9544C178.773 26.1719 178.089 26.3541 177.382 26.403C176.667 26.4524 175.946 26.5094 175.234 26.4711C173.984 26.404 172.778 26.1071 171.628 25.6029C170.613 25.1585 169.681 24.5893 168.841 23.8674C167.846 23.0117 167.022 22.0211 166.377 20.8782C165.809 19.8705 165.432 18.7959 165.195 17.6701C165.138 17.4007 165.113 17.1247 165.077 16.8359ZM178.822 14.7109C178.499 14.6427 178.368 14.3352 178.499 13.9269C178.551 13.9269 178.608 13.9269 178.664 13.9269C179.257 13.9269 179.849 13.9268 180.442 13.927C180.524 13.927 180.615 13.9452 180.626 13.8224C180.654 13.5145 180.712 13.2057 180.704 12.8987C180.688 12.3287 180.316 11.8859 179.758 11.7558C179.127 11.6086 178.548 11.743 178.076 12.1887C177.433 12.7966 177.237 13.5759 177.323 14.4273C177.371 14.9069 177.629 15.268 178.1 15.4457C178.84 15.7253 179.853 15.4296 180.316 14.792C180.413 14.6592 180.473 14.5001 180.568 14.3195C180.154 14.3195 179.798 14.3167 179.442 14.3232C179.4 14.324 179.34 14.3666 179.321 14.4056C179.224 14.6001 179.077 14.709 178.822 14.7109ZM178.577 20.6638C177.969 20.5392 177.429 20.6738 177.012 21.1368C176.498 21.7061 176.332 22.3906 176.478 23.1338C176.568 23.5877 176.882 23.8517 177.341 23.9379C177.702 24.0058 178.052 23.9629 178.388 23.8227C178.805 23.6488 179.115 23.37 179.255 22.9015C178.952 22.9015 178.667 22.9067 178.382 22.8989C178.267 22.8958 178.201 22.9217 178.147 23.0333C178.063 23.2062 177.898 23.2679 177.713 23.2349C177.527 23.2017 177.461 23.0558 177.446 22.8866C177.437 22.7825 177.444 22.6771 177.444 22.5598C177.921 22.5598 178.366 22.5598 178.811 22.5598C179.327 22.5598 179.327 22.5598 179.398 22.0546C179.493 21.3808 179.21 20.8838 178.577 20.6638ZM181.134 13.8044C181.098 14.0098 181.061 14.2151 181.025 14.4205C180.93 14.963 181.142 15.3656 181.617 15.4692C181.861 15.5223 182.121 15.5122 182.374 15.5111C182.526 15.5105 182.642 15.4194 182.678 15.2669C182.721 15.084 182.748 14.8973 182.785 14.6933C182.679 14.6933 182.591 14.6937 182.503 14.6933C182.256 14.6921 182.199 14.6438 182.238 14.402C182.332 13.8169 182.441 13.2341 182.543 12.6544C183.163 12.5922 183.304 12.4391 183.249 11.8837C183.069 11.8837 182.886 11.8837 182.684 11.8837C182.746 11.5105 182.806 11.1551 182.867 10.7924C182.449 10.7924 182.063 10.7924 181.673 10.7924C181.606 11.1597 181.541 11.5182 181.476 11.8712C181.081 11.9079 181.084 11.9082 181.026 12.3475C180.995 12.5817 181.15 12.6341 181.339 12.6592C181.272 13.0383 181.206 13.4052 181.134 13.8044ZM181.547 22.9233C181.925 22.176 182.304 21.4287 182.694 20.6578C182.355 20.6578 182.056 20.6646 181.757 20.6545C181.634 20.6503 181.581 20.6968 181.534 20.8038C181.364 21.1918 181.184 21.5755 181.006 21.9598C180.98 22.0152 180.942 22.0651 180.91 22.1176C180.897 22.112 180.885 22.1065 180.872 22.1009C180.817 21.6219 180.762 21.1428 180.708 20.6691C180.335 20.6691 179.987 20.6691 179.627 20.6691C179.8 21.7664 179.972 22.8505 180.144 23.9415C180.35 23.9415 180.534 23.9369 180.718 23.9427C180.936 23.9496 181.077 23.8464 181.171 23.6586C181.29 23.4209 181.413 23.1854 181.547 22.9233Z"" fill=""#4D1877""/>
			<path d=""M176.732 12.9667C176.632 13.5387 176.529 14.0951 176.427 14.6516C176.39 14.8495 176.347 15.0466 176.32 15.2459C176.291 15.4655 176.19 15.6365 176.006 15.7769C175.696 15.9896 175.354 15.9478 175.018 15.9484C174.504 15.9493 174.504 15.9488 174.319 15.4762C173.876 14.3384 173.431 13.201 172.991 12.0618C172.927 11.8985 172.887 11.7264 172.845 11.5891C172.769 12.0281 172.687 12.5055 172.603 12.9826C172.471 13.7368 172.34 14.4913 172.203 15.2447C172.132 15.6344 171.849 15.9137 171.453 15.9382C171.042 15.9637 170.628 15.9439 170.197 15.9439C170.668 13.29 171.136 10.6502 171.606 8.00018C172.145 8.00018 172.674 7.99584 173.202 8.00677C173.255 8.00788 173.332 8.09091 173.356 8.15232C173.798 9.27038 174.235 10.3904 174.669 11.5114C174.778 11.7924 174.873 12.0784 174.955 12.3064C175.2 10.9181 175.455 9.46668 175.712 8.00894C176.347 8.00894 176.969 8.00894 177.604 8.00894C177.311 9.66323 177.021 11.3072 176.732 12.9667Z"" fill=""#FEFEFE""/>
			<path d=""M175.596 17.6662C176.097 17.9952 176.437 18.4299 176.48 19.0246C176.505 19.3675 176.479 19.7218 176.42 20.0614C176.287 20.826 176.173 21.6003 175.954 22.3421C175.586 23.5872 174.523 24.3152 173.212 24.3154C172.563 24.3154 171.914 24.3163 171.265 24.315C170.893 24.3143 170.737 24.1433 170.8 23.7748C170.945 22.9145 171.101 22.0562 171.253 21.1804C171.477 19.9139 171.701 18.664 171.927 17.4027C171.985 17.3996 172.041 17.3941 172.096 17.394C172.873 17.3934 173.649 17.3926 174.426 17.3941C174.832 17.3948 175.221 17.4744 175.596 17.6662ZM172.996 20.6104C172.853 21.4228 172.709 22.2353 172.563 23.0603C172.789 23.0603 172.993 23.0513 173.196 23.0625C173.476 23.078 173.704 22.9729 173.907 22.7948C174.154 22.5784 174.323 22.3039 174.392 21.9931C174.541 21.3208 174.671 20.6435 174.778 19.9636C174.815 19.7345 174.759 19.4911 174.746 19.2261C174.664 18.9323 174.509 18.6946 174.182 18.6628C173.907 18.6361 173.628 18.6573 173.338 18.6573C173.228 19.3071 173.12 19.9463 172.996 20.6104Z"" fill=""#FEFEFE""/>
			<path d=""M168.337 14.3972C168.781 14.5952 168.98 14.9314 168.934 15.3867C168.897 15.7537 168.6 16.0686 168.214 16.1509C167.827 16.2331 167.433 16.0605 167.234 15.7218C167.046 15.4036 167.071 14.9979 167.296 14.704C167.534 14.3932 167.905 14.2809 168.337 14.3972Z"" fill=""#FDFCFE""/>
			<path d=""M178.839 14.7112C179.077 14.7089 179.224 14.6001 179.321 14.4056C179.34 14.3666 179.4 14.3239 179.442 14.3232C179.798 14.3167 180.154 14.3194 180.568 14.3194C180.473 14.5001 180.413 14.6591 180.316 14.792C179.853 15.4295 178.84 15.7253 178.1 15.4457C177.629 15.268 177.371 14.9069 177.323 14.4273C177.237 13.5759 177.433 12.7966 178.076 12.1887C178.548 11.743 179.127 11.6086 179.758 11.7558C180.316 11.8859 180.688 12.3287 180.704 12.8987C180.712 13.2057 180.654 13.5145 180.626 13.8224C180.615 13.9452 180.524 13.927 180.442 13.927C179.849 13.9267 179.257 13.9268 178.664 13.9268C178.608 13.9268 178.551 13.9268 178.499 13.9268C178.368 14.3352 178.499 14.6426 178.839 14.7112ZM178.622 13.1383C178.586 13.2293 178.632 13.2448 178.712 13.2435C178.902 13.2403 179.092 13.2425 179.282 13.2425C179.572 13.2425 179.572 13.2425 179.561 12.9478C179.56 12.9289 179.562 12.9096 179.559 12.8911C179.532 12.7366 179.487 12.5858 179.319 12.5349C179.158 12.4858 178.991 12.5138 178.888 12.6538C178.785 12.793 178.716 12.9564 178.622 13.1383Z"" fill=""#FDFCFD""/>
			<path d=""M178.592 20.6667C179.21 20.8838 179.493 21.3808 179.398 22.0546C179.327 22.5598 179.327 22.5598 178.811 22.5598C178.366 22.5598 177.921 22.5598 177.444 22.5598C177.444 22.6771 177.437 22.7825 177.446 22.8866C177.461 23.0558 177.527 23.2017 177.713 23.2349C177.898 23.2679 178.063 23.2062 178.147 23.0333C178.201 22.9217 178.267 22.8958 178.382 22.8989C178.667 22.9067 178.952 22.9015 179.255 22.9015C179.115 23.37 178.805 23.6488 178.388 23.8227C178.052 23.9629 177.702 24.0058 177.341 23.9379C176.882 23.8517 176.568 23.5877 176.478 23.1338C176.332 22.3906 176.498 21.7061 177.012 21.1368C177.429 20.6738 177.969 20.5392 178.592 20.6667ZM178.383 21.597C178.333 21.2727 177.956 21.2526 177.791 21.4702C177.688 21.6057 177.624 21.7705 177.529 21.9496C177.844 21.9496 178.107 21.9496 178.39 21.9496C178.39 21.8369 178.39 21.7318 178.383 21.597Z"" fill=""#FDFCFD""/>
			<path d=""M181.137 13.7882C181.206 13.4052 181.272 13.0383 181.339 12.6592C181.15 12.6341 180.995 12.5817 181.026 12.3475C181.084 11.9082 181.081 11.9079 181.476 11.8712C181.541 11.5182 181.606 11.1597 181.673 10.7924C182.063 10.7924 182.449 10.7924 182.867 10.7924C182.806 11.1551 182.746 11.5105 182.684 11.8837C182.886 11.8837 183.069 11.8837 183.249 11.8837C183.304 12.4391 183.163 12.5922 182.543 12.6544C182.441 13.2341 182.332 13.8169 182.238 14.402C182.199 14.6438 182.256 14.6921 182.503 14.6933C182.591 14.6937 182.679 14.6933 182.785 14.6933C182.748 14.8972 182.721 15.084 182.678 15.2669C182.642 15.4194 182.526 15.5105 182.374 15.5111C182.121 15.5122 181.861 15.5223 181.617 15.4691C181.142 15.3656 180.93 14.963 181.025 14.4205C181.061 14.2151 181.098 14.0098 181.137 13.7882Z"" fill=""#FDFCFD""/>
			<path d=""M181.541 22.9361C181.413 23.1854 181.29 23.4209 181.171 23.6586C181.077 23.8464 180.936 23.9496 180.718 23.9427C180.534 23.9368 180.35 23.9415 180.144 23.9415C179.972 22.8505 179.8 21.7663 179.627 20.6691C179.987 20.6691 180.335 20.6691 180.708 20.6691C180.762 21.1428 180.817 21.6218 180.872 22.1009C180.885 22.1064 180.897 22.112 180.91 22.1175C180.942 22.0651 180.98 22.0152 181.006 21.9597C181.184 21.5755 181.364 21.1918 181.534 20.8038C181.581 20.6968 181.634 20.6502 181.757 20.6544C182.056 20.6646 182.355 20.6577 182.694 20.6577C182.304 21.4287 181.925 22.176 181.541 22.9361Z"" fill=""#FDFDFE""/>
			<path d=""M174.745 19.2543C174.759 19.4911 174.815 19.7345 174.778 19.9636C174.671 20.6435 174.541 21.3208 174.392 21.9931C174.323 22.3039 174.154 22.5784 173.907 22.7948C173.704 22.9729 173.476 23.0779 173.196 23.0625C172.993 23.0513 172.789 23.0603 172.563 23.0603C172.709 22.2352 172.853 21.4228 173.018 20.5941C173.333 20.3909 173.644 20.2247 173.917 20.0113C174.212 19.782 174.471 19.5085 174.745 19.2543Z"" fill=""#4E1978""/>
			<path d=""M174.746 19.2402C174.471 19.5085 174.212 19.782 173.917 20.0113C173.644 20.2247 173.333 20.3909 173.026 20.5817C173.12 19.9463 173.228 19.3071 173.338 18.6573C173.628 18.6573 173.907 18.6361 174.182 18.6628C174.509 18.6946 174.664 18.9323 174.746 19.2402Z"" fill=""#6F21A0""/>
			<path d=""M178.627 13.1238C178.716 12.9564 178.785 12.793 178.888 12.6538C178.991 12.5138 179.158 12.4858 179.319 12.5349C179.487 12.5858 179.532 12.7366 179.559 12.8911C179.562 12.9096 179.56 12.9289 179.561 12.9478C179.572 13.2425 179.572 13.2425 179.282 13.2425C179.092 13.2425 178.902 13.2403 178.712 13.2435C178.632 13.2448 178.586 13.2293 178.627 13.1238Z"" fill=""#53207B""/>
			<path d=""M178.387 21.6119C178.39 21.7318 178.39 21.8369 178.39 21.9496C178.107 21.9496 177.844 21.9496 177.529 21.9496C177.625 21.7705 177.688 21.6057 177.791 21.4702C177.956 21.2526 178.333 21.2727 178.387 21.6119Z"" fill=""#521F7B""/>
		</g>

        <pattern id=""pattern-profile"" patternContentUnits=""objectBoundingBox"" width=""1"" height=""1"">
            <use xlink:href=""#image-profile"" transform=""scale(0.00833333)"" />
        </pattern>
		
        <image id=""image-profile"" width=""120"" height=""120"" xlink:href=""data:image/png;base64,{Convert.ToBase64String(avatar)}"" />
    </defs> 
</svg>";

            return svg;
        }
    }
}
